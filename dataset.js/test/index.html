<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Test dataset.js</title>
    </head>
    <script src="../dataset.js"></script>
    <body>

        <h1>Test dataset.js</h1>

        <p>
        see (open) console for more
       </p>

<script>



async function test() {

const dataset_urls = ['https://raw.githubusercontent.com/cryptopunksnotdead/punks.attributes/master/coolcats/0-999.csv',
                      'https://raw.githubusercontent.com/cryptopunksnotdead/punks.attributes/master/coolcats/1000-1999.csv',
                     ];

const dataset = await Dataset.readCsv( ...dataset_urls );

console.log( dataset.recs.length, " record(s)" );
console.log( dataset.recs[0] );
console.log( "values", dataset.recs[0].values );
console.log( "keys", dataset.recs[0].keys );

console.log( "face", dataset.recs[0].face );
console.log( "face", dataset.recs[0]['face'] );

console.log( dataset.recs[1] );
// console.log( dataset.recs );

console.log( dataset.get(0) );
console.log( dataset.length, " record(s)" );
console.log( dataset.size, " record(s)" );


// {id:      '0',
//  face:    'angry cute',
//  hat:     'helm army',
//  clothes: 'sweater orange'}

const dataset2 = dataset.map( rec => ({
                                         face:    rec.face,
                                         hat:     rec.hat,
                                         clothes: rec.clothes,
                                         extra:    '???',
                                      }))

console.log( dataset2.recs[0] );
console.log( dataset2.recs[1] );

// cut-out id key
const dataset3 = dataset.except( 'id' );
console.log( dataset3.recs[0] );
console.log( dataset3.recs[0].keys );

/*
for( let rec of dataset.recs ) {
   console.log( rec );
}
*/

console.log( "the end" );

}

test();


</script>
</body>
</html>
